import { sharedKeys } from "src/runtime/index";
import { withoutKeys } from "src/runtime/index";
export function mergeObjects(defVal, override) {
    const intersectingKeys = sharedKeys(defVal, override);
    const defUnique = withoutKeys(defVal, ...intersectingKeys);
    const overrideUnique = withoutKeys(defVal, ...intersectingKeys);
    const merged = {
        ...(intersectingKeys.reduce((acc, key) => typeof override[key] === "undefined"
            ? { ...acc, [key]: defVal[key] }
            : { ...acc, [key]: override[key] }, {})),
        ...defUnique,
        ...overrideUnique,
    };
    return merged;
}

import { Never } from "src/constants/Never";
import { isNumberLike } from "../type-guards";
/**
 * **csv**`(csv, [format])`
 *
 * Converts a CSV string literal into a tuple of values
 * (based on format).
 *
 * **Note:** either _no space_ or _a single space_ between values
 * will provide a trimmed value but any additional whitespace
 * after the comma will result in some leading whitespace in
 * some values.
 *
 * @default format `string-numeric-tuple`
 */
export const csv = (csv, format = `string-numeric-tuple`) => {
    const tuple = [];
    csv.split(/,\s{0,1}/).forEach(v => {
        tuple.push(format === "string-numeric-tuple"
            ? isNumberLike(v) ? Number(v) : v
            : format === "json-tuple"
                ? isNumberLike(v)
                    ? Number(v)
                    : v === "true" ? true : v === "false" ? false
                        : `"${v}"`
                : format === "string-tuple"
                    ? `${v}`
                    : Never);
    });
    return tuple;
};
